<!DOCTYPE html>
<html lang="nl">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==">
Â  Â  <title>Kerstboom Bestellen / Commander Sapin de NoÃ«l</title>
Â  Â  <style>
Â  Â  Â  Â  /* Your CSS... */
Â  Â  Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }
Â  Â  Â  Â  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #0f4c3a 0%, #1a5d4a 50%, #0d3d2f 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; overflow-x: hidden; }
Â  Â  Â  Â  .container { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 20px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); max-width: 500px; width: 100%; padding: 40px; text-align: center; position: relative; overflow: hidden; }
Â  Â  Â  Â  .container::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(34, 139, 34, 0.05), transparent); transform: rotate(45deg); pointer-events: none; }
Â  Â  Â  Â  .language-switcher { position: absolute; top: 20px; right: 20px; display: flex; background: rgba(255, 255, 255, 0.9); border-radius: 25px; padding: 5px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
Â  Â  Â  Â  .lang-btn { background: transparent; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-weight: 600; font-size: 0.9rem; transition: all 0.3s ease; color: #666; }
Â  Â  Â  Â  .lang-btn.active { background: #228B22; color: white; transform: scale(1.05); }
Â  Â  Â  Â  .lang-btn:hover:not(.active) { background: rgba(34, 139, 34, 0.1); color: #228B22; }
Â  Â  Â  Â  .logo { width: 120px; height: auto; margin-bottom: 20px; display: block; margin-left: auto; margin-right: auto; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1)); }
Â  Â  Â  Â  h1 { color: #0f4c3a; margin-bottom: 10px; font-size: 2.2rem; font-weight: 700; }
Â  Â  Â  Â  .subtitle { color: #666; margin-bottom: 30px; font-size: 1.1rem; }
Â  Â  Â  Â  .form-group { margin-bottom: 25px; text-align: left; }
Â  Â  Â  Â  label { display: block; margin-bottom: 8px; color: #0f4c3a; font-weight: 600; font-size: 1rem; }
Â  Â  Â  Â  input[type="text"], input[type="email"], input[type="number"] { width: 100%; padding: 15px 20px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: white; }
Â  Â  Â  Â  input:focus { outline: none; border-color: #228B22; box-shadow: 0 0 0 3px rgba(34, 139, 34, 0.1); transform: translateY(-2px); }
Â  Â  Â  Â  .checkbox-group { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; cursor: pointer; }
Â  Â  Â  Â  input[type="checkbox"] { width: 20px; height: 20px; accent-color: #228B22; cursor: pointer; }
Â  Â  Â  Â  .checkbox-label { color: #0f4c3a; font-weight: 600; cursor: pointer; margin-bottom: 0; }
Â  Â  Â  Â  .company-fields { display: none; background: rgba(34, 139, 34, 0.05); padding: 20px; border-radius: 12px; margin: 20px 0; border: 2px solid rgba(34, 139, 34, 0.1); }
Â  Â  Â  Â  .company-fields.show { display: block; animation: slideDown 0.3s ease; }
Â  Â  Â  Â  @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
Â  Â  Â  Â  .company-fields h3 { color: #0f4c3a; margin-bottom: 15px; font-size: 1.1rem; text-align: center; }
Â  Â  Â  Â  .quantity-group { display: flex; align-items: center; gap: 15px; }
Â  Â  Â  Â  .quantity-btn { background: #228B22; color: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.2rem; font-weight: bold; transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; }
Â  Â  Â  Â  .quantity-btn:hover { background: #1e7b1e; transform: scale(1.1); }
Â  Â  Â  Â  .quantity-display { font-size: 1.5rem; font-weight: bold; color: #0f4c3a; min-width: 40px; }
Â  Â  Â  Â  .price-display { background: linear-gradient(45deg, #228B22, #32CD32); color: white; padding: 15px 20px; border-radius: 12px; margin: 20px 0; font-size: 1.3rem; font-weight: bold; box-shadow: 0 5px 15px rgba(34, 139, 34, 0.3); }
Â  Â  Â  Â  .payment-section { background: linear-gradient(135deg, #f8f9fa, #ffffff); border: 2px solid #007bff; border-radius: 12px; padding: 25px; margin: 25px 0; }
Â  Â  Â  Â  .payment-section h3 { color: #007bff; margin-bottom: 20px; font-size: 1.3rem; text-align: center; }
Â  Â  Â  Â  .payment-methods { display: flex; gap: 15px; justify-content: center; margin-bottom: 20px; }
Â  Â  Â  Â  .payment-method-icon { width: 60px; height: 40px; object-fit: contain; opacity: 0.8; }
Â  Â  Â  Â  .order-btn { background: linear-gradient(45deg, #007bff, #0056b3); color: white; border: none; padding: 18px 40px; border-radius: 50px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease; width: 100%; display: flex; align-items: center; justify-content: center; gap: 10px; }
Â  Â  Â  Â  .order-btn:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 123, 255, 0.4); }
Â  Â  Â  Â  .order-btn:disabled { background: #ccc; cursor: not-allowed; transform: none; box-shadow: none; opacity: 0.6; }
Â  Â  Â  Â  .loading { display: none; margin-top: 20px; color: #007bff; font-weight: bold; }
Â  Â  Â  Â  .spinner { display: inline-block; width: 20px; height: 20px; border: 3px solid #f3f3f3; border-top: 3px solid #007bff; border-radius: 50%; animation: spin 1s linear infinite; }
Â  Â  Â  Â  @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
Â  Â  Â  Â  .success-message { display: none; background: linear-gradient(45deg, #32CD32, #228B22); color: white; padding: 20px; border-radius: 12px; margin-top: 20px; font-weight: bold; }
Â  Â  Â  Â  .error-message { display: none; background: #ff4444; color: white; padding: 15px; border-radius: 12px; margin-top: 20px; }
Â  Â  Â  Â  .snowflake { position: fixed; color: rgba(255, 255, 255, 0.6); user-select: none; pointer-events: none; font-size: 1rem; z-index: -1; animation: fall linear infinite; }
Â  Â  Â  Â  @keyframes fall { from { transform: translateY(-10px); } to { transform: translateY(100vh); } }
Â  Â  Â  Â  @media (max-width: 600px) { .container { margin: 10px; padding: 30px 25px; } h1 { font-size: 1.8rem; } .logo { width: 100px; } .language-switcher { position: relative; top: 0; right: 0; margin-bottom: 20px; } .payment-methods { flex-direction: column; align-items: center; } }
Â  Â  Â  Â  .mollie-logo { height: 20px; vertical-align: middle; }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="container">
Â  Â  Â  Â  <div class="language-switcher">
Â  Â  Â  Â  Â  Â  <button class="lang-btn active" onclick="switchLanguage('nl')" data-lang="nl">NL</button>
Â  Â  Â  Â  Â  Â  <button class="lang-btn" onclick="switchLanguage('fr')" data-lang="fr">FR</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <img src="https://i.ibb.co/4RYgfdSd/cropped-logortbround.png" alt="RT2 Logo" class="logo">
Â  Â  Â  Â  <h1 data-text="title">Kerstboom Bestellen</h1>
Â  Â  Â  Â  <p class="subtitle" data-text="subtitle">Bestel je kerstboom van RT2 hier</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <form id="orderForm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="hidden" id="quantityInput" name="quantity" value="1">
Â  Â  Â  Â  Â  Â  <input type="hidden" id="totalPriceInput" name="totalPrice" value="55.00">
Â  Â  Â  Â  Â  Â  <input type="hidden" id="selectedLanguage" name="language" value="nl">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="name" data-text="name_label">Naam *</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="name" name="name" required>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="email" data-text="email_label">Email *</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="email" id="email" name="email" required>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="phone" data-text="phone_label">Telefoonnummer *</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="phone" name="phone" required>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="checkbox-group">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="checkbox" id="needsInvoice" onchange="toggleInvoice()">
Â  Â  Â  Â  Â  Â  Â  Â  <label class="checkbox-label" for="needsInvoice" data-text="invoice_label">ðŸ“„ Ik wil een factuur ontvangen</label>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="company-fields" id="companyFields">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 data-text="invoice_details">ðŸ“‹ Factuurgegevens</h3>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="companyName" data-text="company_name">Bedrijfsnaam *</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="companyName" name="companyName">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="vatNumber" data-text="vat_number">BTW-nummer *</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="vatNumber" name="vatNumber" placeholder="BE0123456789">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="address" data-text="address_label">Adres *</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="address" name="address">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="city" data-text="city_label">Stad *</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="city" name="city">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="postalCode" data-text="postal_code">Postcode *</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="postalCode" name="postalCode">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <label data-text="quantity_label">Aantal kerstbomen</label>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="quantity-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" class="quantity-btn" onclick="changeQuantity(-1)">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="quantity-display" id="quantityDisplay">1</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" class="quantity-btn" onclick="changeQuantity(1)">+</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="price-display">
Â  Â  Â  Â  Â  Â  Â  Â  <span data-text="price_per_tree">Prijs per boom: â‚¬55</span><br>
Â  Â  Â  Â  Â  Â  Â  Â  <strong><span data-text="total_label">Totaal:</span> â‚¬<span id="totalPrice">55.00</span></strong>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="payment-section">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 data-text="payment_title">ðŸ’³ Veilige betaling via Mollie</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="payment-methods">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://www.mollie.com/external/icons/payment-methods/bancontact.svg" alt="Bancontact" class="payment-method-icon">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://www.mollie.com/external/icons/payment-methods/mastercard.svg" alt="Mastercard" class="payment-method-icon">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src="https://www.mollie.com/external/icons/payment-methods/visa.svg" alt="Visa" class="payment-method-icon">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="color: #666; font-size: 0.9rem; margin-top: 10px;" data-text="payment_info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Je wordt doorgestuurd naar Mollie voor een veilige betaling
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button type="submit" class="order-btn" id="orderBtn" data-text="order_button">
Â  Â  Â  Â  Â  Â  Â  Â  ðŸ’³ <span>Betalen met Mollie</span>
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="loading" id="loading">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="spinner"></div> <span data-text="loading_text">Betaling wordt voorbereid...</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="success-message" id="success">
Â  Â  Â  Â  Â  Â  Â  Â  ðŸŽ‰ <span data-text="success_message">Je wordt doorgestuurd naar Mollie voor betaling...</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="error-message" id="error" data-text="error_message">
Â  Â  Â  Â  Â  Â  Â  Â  Er ging iets mis. Probeer het opnieuw.
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </form>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // Translations
Â  Â  Â  Â  const translations = {
Â  Â  Â  Â  Â  Â  nl: {
Â  Â  Â  Â  Â  Â  Â  Â  title: "Kerstboom Bestellen", subtitle: "Bestel je kerstboom van RT2 hier", name_label: "Naam *", email_label: "Email *", phone_label: "Telefoonnummer *", invoice_label: "ðŸ“„ Ik wil een factuur ontvangen", invoice_details: "ðŸ“‹ Factuurgegevens", company_name: "Bedrijfsnaam *", vat_number: "BTW-nummer *", address_label: "Adres *", city_label: "Stad *", postal_code: "Postcode *", quantity_label: "Aantal kerstbomen", price_per_tree: "Prijs per boom: â‚¬55", total_label: "Totaal:", payment_title: "ðŸ’³ Veilige betaling via Mollie", payment_info: "Je wordt doorgestuurd naar Mollie voor een veilige betaling", order_button: "ðŸ’³ Betalen met Mollie", loading_text: "Betaling wordt voorbereid...", success_message: "Je wordt doorgestuurd naar Mollie voor betaling...", error_message: "Er ging iets mis. Probeer het opnieuw."
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  fr: {
Â  Â  Â  Â  Â  Â  Â  Â  title: "Commander Sapin de NoÃ«l", subtitle: "Commandez votre sapin de NoÃ«l RT2 ici", name_label: "Nom *", email_label: "Email *", phone_label: "NumÃ©ro de tÃ©lÃ©phone *", invoice_label: "ðŸ“„ Je souhaite recevoir une facture", invoice_details: "ðŸ“‹ DonnÃ©es de facturation", company_name: "Nom de l'entreprise *", vat_number: "NumÃ©ro de TVA *", address_label: "Adresse *", city_label: "Ville *", postal_code: "Code postal *", quantity_label: "Nombre de sapins de NoÃ«l", price_per_tree: "Prix par sapin: â‚¬55", total_label: "Total:", payment_title: "ðŸ’³ Paiement sÃ©curisÃ© via Mollie", payment_info: "Vous serez redirigÃ© vers Mollie pour un paiement sÃ©curisÃ©", order_button: "ðŸ’³ Payer avec Mollie", loading_text: "PrÃ©paration du paiement...", success_message: "Vous allez Ãªtre redirigÃ© vers Mollie pour le paiement...", error_message: "Quelque chose s'est mal passÃ©. Veuillez rÃ©essayer."
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  // Current language
Â  Â  Â  Â  let currentLanguage = 'nl';
Â  Â  Â  Â  let quantity = 1;
Â  Â  Â  Â  const pricePerTree = 55;
Â  Â  Â  Â Â 
Â  Â  Â  Â  // VERIFIEER UW DEPLOYED WEB APP URL
Â  Â  Â  Â  const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwgJXv2F-MaVlRC_79qPbhZKfZwIYNAG7pgSjGp13dcIpRsRwTGU6wvGV1MmaJKVJ-mFw/exec';
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- Functions ---
Â  Â  Â  Â  function switchLanguage(lang) {
Â  Â  Â  Â  Â  Â  currentLanguage = lang;
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.lang-btn').forEach(btn => { btn.classList.remove('active'); });
Â  Â  Â  Â  Â  Â  document.querySelector(`[data-lang="${lang}"]`).classList.add('active');
Â  Â  Â  Â  Â  Â  document.getElementById('selectedLanguage').value = lang;
Â  Â  Â  Â  Â  Â  document.querySelectorAll('[data-text]').forEach(element => {
Â  Â  Â  Â  Â  Â  Â  Â  const key = element.getAttribute('data-text');
Â  Â  Â  Â  Â  Â  Â  Â  if (translations[lang][key]) { element.textContent = translations[lang][key]; }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  document.documentElement.lang = lang;
Â  Â  Â  Â  }

Â  Â  Â  Â  function updatePrice() {
Â  Â  Â  Â  Â  Â  const total = pricePerTree * quantity;
Â  Â  Â  Â  Â  Â  document.getElementById('totalPrice').textContent = total.toFixed(2);
Â  Â  Â  Â  Â  Â  document.getElementById('quantityInput').value = quantity;
Â  Â  Â  Â  Â  Â  document.getElementById('totalPriceInput').value = total.toFixed(2);
Â  Â  Â  Â  }

Â  Â  Â  Â  function changeQuantity(delta) {
Â  Â  Â  Â  Â  Â  quantity = Math.max(1, quantity + delta);
Â  Â  Â  Â  Â  Â  document.getElementById('quantityDisplay').textContent = quantity;
Â  Â  Â  Â  Â  Â  updatePrice();
Â  Â  Â  Â  }

Â  Â  Â  Â  function toggleInvoice() {
Â  Â  Â  Â  Â  Â  const checkbox = document.getElementById('needsInvoice');
Â  Â  Â  Â  Â  Â  const companyFields = document.getElementById('companyFields');
Â  Â  Â  Â  Â  Â  if (checkbox.checked) { companyFields.classList.add('show'); } else { companyFields.classList.remove('show'); }
Â  Â  Â  Â  Â  Â  document.getElementById('companyName').required = checkbox.checked;
Â  Â  Â  Â  Â  Â  document.getElementById('vatNumber').required = checkbox.checked;
Â  Â  Â  Â  Â  Â  document.getElementById('address').required = checkbox.checked;
Â  Â  Â  Â  Â  Â  document.getElementById('city').required = checkbox.checked;
Â  Â  Â  Â  Â  Â  document.getElementById('postalCode').required = checkbox.checked;
Â  Â  Â  Â  }
        
Â  Â  Â  Â  // Snowflake Animation (weggelaten voor beknoptheid, maar behouden in uw file)
Â  Â  Â  Â  function createSnowflake() { /* ... */ }
Â  Â  Â  Â  setInterval(createSnowflake, 1500);

Â  Â  Â  Â  // --- CORS Fix: Submit data as URLSearchParams (Form-encoded data) ---
Â  Â  Â  Â  document.getElementById('orderForm').addEventListener('submit', async function(e) {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const needsInvoice = document.getElementById('needsInvoice').checked;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const orderData = {
Â  Â  Â  Â  Â  Â  Â  Â  name: document.getElementById('name').value, email: document.getElementById('email').value, phone: document.getElementById('phone').value,
Â  Â  Â  Â  Â  Â  Â  Â  quantity: document.getElementById('quantityInput').value, totalPrice: document.getElementById('totalPriceInput').value,
Â  Â  Â  Â  Â  Â  Â  Â  needsInvoice: needsInvoice ? 'true' : 'false', language: currentLanguage,
Â  Â  Â  Â  Â  Â  Â  Â  companyName: needsInvoice ? document.getElementById('companyName').value : '', vatNumber: needsInvoice ? document.getElementById('vatNumber').value : '',
Â  Â  Â  Â  Â  Â  Â  Â  address: needsInvoice ? document.getElementById('address').value : '', city: needsInvoice ? document.getElementById('city').value : '', postalCode: needsInvoice ? document.getElementById('postalCode').value : ''
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  // Loading state
Â  Â  Â  Â  Â  Â  document.getElementById('orderBtn').disabled = true;
Â  Â  Â  Â  Â  Â  document.getElementById('loading').style.display = 'block';
Â  Â  Â  Â  Â  Â  document.getElementById('success').style.display = 'none';
Â  Â  Â  Â  Â  Â  document.getElementById('error').style.display = 'none';

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const params = new URLSearchParams();
Â  Â  Â  Â  Â  Â  Â  Â  for (const key in orderData) { params.append(key, orderData[key]); }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(GOOGLE_SCRIPT_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: params 
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); }

Â  Â  Â  Â  Â  Â  Â  Â  const result = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  if (result.success && result.paymentUrl) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('loading').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('success').style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => { window.location.href = result.paymentUrl; }, 2000);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(result.error || 'Payment creation failed');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error:', error);
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('loading').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('error').textContent = error.message || translations[currentLanguage].error_message;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('error').style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('orderBtn').disabled = false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  // Initialize on load
Â  Â  Â  Â  updatePrice();
Â  Â  Â  Â  switchLanguage('nl');
Â  Â  </script>
</body>
</html>
